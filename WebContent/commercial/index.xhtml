<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>

    	<ui:composition template="../resources/layout.xhtml">

 
<ui:define name="title">
	Demandes de réservation
</ui:define>

<ui:define name="content">
	<h:form>
	<div class="row">
        <div class="col-md-12">   
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Liste des réservations envoyées</h3>
            </div>
            <div class="box-body">
                <table id="example1" class="table table-bordered table-striped">
                <thead>
                <tr>
                  <th>Id</th>
                  <th>De</th>
                  <th>Jusqu'à</th>
                  <th>Date de réservation</th>
                  <th>Statut</th>
                  <th>Chambre n°</th>
                  <th>Client</th>
                  <th>Prix négocié</th>
                  <th></th>
                  <th></th>
                </tr>
                </thead>
                <tbody> 
                <ui:repeat var="r" value="#{reservationBean.getAllReservations('En cours de traitement')}" >                         
                <tr>
                  <td><h:outputText value="${r.reservationId}"></h:outputText></td>
                  <td><h:outputText value="${r.startDate} "></h:outputText></td>
                  <td><h:outputText value="${r.endDate}"></h:outputText></td>
                  <td><h:outputText value="${r.reservationDate}"></h:outputText></td>
                  <td><h:outputText value="${r.state}"></h:outputText></td>
                  <td><h:outputText value="${r.room.roomNumbere}"></h:outputText></td>
                  <td><h:outputText value="${r.client.firstName} ${r.client.lastName}"></h:outputText></td>
                  <td><h:inputText value="#{reservationBean.price}"></h:inputText></td>
                  <td><h:commandButton action="#{reservationBean.approveReservation(r)}" value="Approuver" class="btn btn-primary"/></td>
                  <td><h:commandButton onclick="if (! confirm('Really you want to reject this reservation ?') ) { return false;}; return true; " class="btn btn-danger" action="#{reservationBean.rejectReservation(r)}" value="Rejeter" /></td>
                </tr>
                </ui:repeat>
                </tbody>
                <tfoot>
                <tr>
                  <th>Id</th>
                  <th>De</th>
                  <th>Jusqu'à</th>
                  <th>Date de réservation</th>
                  <th>Statut</th>
                  <th>Chambre n°</th>
                  <th>Client</th>
                  <th>Prix négocié</th>
                  <th></th>
                  <th></th>
                </tr>
                </tfoot>
              </table>
              
            </div>
          </div>
        </div>
      </div>
     </h:form>
     
     <br/><br/>
     
     <h:form>
	<div class="row">
        <div class="col-md-12">   
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Liste des réservations acceptées</h3>
            </div>
            <div class="box-body">
                <table id="example11" class="table table-bordered table-striped">
                <thead>
                <tr>
                  <th>Id</th>
                  <th>De</th>
                  <th>Jusqu'à</th>
                  <th>Date de réservation</th>
                  <th>Statut</th>
                  <th>Chambre n°</th>
                  <th>Client</th>
                  <th>Prix négocié</th>
                  <th></th>
                </tr>
                </thead>
                <tbody> 
                <ui:repeat var="r" value="#{reservationBean.getAllReservations('Acceptée')}" >                         
                <tr>
                  <td><h:outputText value="${r.reservationId}"></h:outputText></td>
                  <td><h:outputText value="${r.startDate} "></h:outputText></td>
                  <td><h:outputText value="${r.endDate}"></h:outputText></td>
                  <td><h:outputText value="${r.reservationDate}"></h:outputText></td>
                  <td><h:outputText value="${r.state}"></h:outputText></td>
                  <td><h:outputText value="${r.room.roomNumbere}"></h:outputText></td>
                  <td><h:outputText value="${r.client.firstName} ${r.client.lastName}"></h:outputText></td>
                  <td><h:outputText value="${r.pricePerNight}"></h:outputText></td>
                  <td><h:commandButton onclick="if (! confirm('Really you want to reject this reservation ?') ) { return false;}; return true; " class="btn btn-danger" action="#{reservationBean.rejectReservation(r)}" value="Rejeter" /></td>
                </tr>
                </ui:repeat>
                </tbody>
                <tfoot>
                <tr>
                  <th>Id</th>
                  <th>De</th>
                  <th>Jusqu'à</th>
                  <th>Date de réservation</th>
                  <th>Statut</th>
                  <th>Chambre n°</th>
                  <th>Client</th>
                  <th>Prix négocié</th>
                  <th></th>
                </tr>
                </tfoot>
              </table>
              
            </div>
          </div>
        </div>
      </div>
     </h:form>
     
      
</ui:define>


</ui:composition>
	
	
</h:body>
</html>